{# ===== ذروة - المدونة/المقالات ===== #}
<section class="therwa-blog py-12">
    <div class="container">
        {# Section Header #}
        <div class="flex items-center justify-between mb-10">
            <div>
                <h2 class="text-2xl md:text-3xl font-bold mb-2" style="color: {{ theme.color.primary }};">
                    {{ component.title|default('مدونة صياد نجد: نصائح وخبرات الصيد') }}
                </h2>
                <p class="text-gray-500">{{ component.subtitle|default('مقالات متخصصة ونصائح من الخبراء') }}</p>
            </div>
            <a href="/blog" class="hidden md:inline-flex items-center gap-2 px-6 py-2 rounded-lg font-semibold transition-all hover:scale-105" style="border: 2px solid {{ theme.color.primary }}; color: {{ theme.color.primary }};">
                جميع المقالات
                <i class="sicon-keyboard-arrow-left"></i>
            </a>
        </div>
        
        {# Articles Grid #}
        <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6">
            {% for article in articles|slice(0, component.limit|default(3)) %}
            <article class="blog-card bg-white rounded-2xl overflow-hidden shadow-sm group transition-shadow hover:shadow-lg" style="border: 1px solid {{ theme.color.lighter(0.9) }};">
                {# Article Image #}
                <div class="relative aspect-[16/10] overflow-hidden">
                    <a href="{{ article.url }}">
                        {% if article.image %}
                        <img src="{{ article.image }}" alt="{{ article.title }}" class="w-full h-full object-cover transition-transform duration-500 group-hover:scale-105">
                        {% else %}
                        <div class="w-full h-full flex items-center justify-center" style="background-color: {{ theme.color.lighter(0.9) }};">
                            <i class="sicon-file-text text-4xl" style="color: {{ theme.color.lighter(0.7) }};"></i>
                        </div>
                        {% endif %}
                    </a>
                    
                    {# Category Badge #}
                    {% if article.category %}
                    <span class="absolute top-4 right-4 px-3 py-1 rounded-full text-xs font-medium" style="background-color: {{ theme.color.primary }}; color: {{ theme.color.reverse_text }};">
                        {{ article.category }}
                    </span>
                    {% endif %}
                </div>
                
                {# Article Content #}
                <div class="p-5">
                    {# Meta Info #}
                    <div class="flex items-center gap-4 text-sm text-gray-400 mb-3">
                        <span class="flex items-center gap-1">
                            <i class="sicon-calendar"></i>
                            {{ article.date|default('15 يناير 2025') }}
                        </span>
                        <span class="flex items-center gap-1">
                            <i class="sicon-clock"></i>
                            {{ article.read_time|default('5 دقائق') }}
                        </span>
                    </div>
                    
                    <a href="{{ article.url }}" class="block">
                        <h3 class="font-bold text-lg mb-3 line-clamp-2 transition-colors hover:text-primary" style="color: {{ theme.color.primary }};">
                            {{ article.title|default('عنوان المقال') }}
                        </h3>
                    </a>
                    
                    <p class="text-gray-500 text-sm line-clamp-2 mb-4">
                        {{ article.excerpt|default('وصف مختصر للمقال يظهر هنا ليعطي القارئ فكرة عن محتوى المقال...') }}
                    </p>
                    
                    <a href="{{ article.url }}" class="inline-flex items-center gap-2 text-sm font-semibold transition-colors" style="color: {{ theme.color.primary }};">
                        اقرأ المزيد
                        <i class="sicon-keyboard-arrow-left"></i>
                    </a>
                </div>
            </article>
            {% else %}
            {# Default Articles #}
            {% set default_articles = [
                {'title': 'دليل المبتدئين لاختيار أول دربيل', 'category': 'أدلة', 'excerpt': 'تعرف على أهم المعايير التي يجب مراعاتها عند شراء أول دربيل لك'},
                {'title': 'أساسيات تحضير شنطة الطوارئ للرحلات البرية', 'category': 'نصائح', 'excerpt': 'قائمة شاملة بكل ما تحتاجه في رحلاتك البرية'},
                {'title': 'أفضل 5 أماكن للتخييم في المملكة', 'category': 'وجهات', 'excerpt': 'اكتشف أجمل أماكن التخييم مع نصائح من خبراء الرحلات'}
            ] %}
            {% for article in default_articles %}
            <article class="blog-card bg-white rounded-2xl overflow-hidden shadow-sm group" style="border: 1px solid {{ theme.color.lighter(0.9) }};">
                <div class="relative aspect-[16/10] overflow-hidden">
                    <div class="w-full h-full flex items-center justify-center" style="background-color: {{ theme.color.lighter(0.9) }};">
                        <i class="sicon-file-text text-4xl" style="color: {{ theme.color.lighter(0.7) }};"></i>
                    </div>
                    <span class="absolute top-4 right-4 px-3 py-1 rounded-full text-xs font-medium" style="background-color: {{ theme.color.primary }}; color: {{ theme.color.reverse_text }};">
                        {{ article.category }}
                    </span>
                </div>
                <div class="p-5">
                    <div class="flex items-center gap-4 text-sm text-gray-400 mb-3">
                        <span class="flex items-center gap-1"><i class="sicon-calendar"></i> 15 يناير 2025</span>
                        <span class="flex items-center gap-1"><i class="sicon-clock"></i> 5 دقائق</span>
                    </div>
                    <h3 class="font-bold text-lg mb-3 line-clamp-2" style="color: {{ theme.color.primary }};">{{ article.title }}</h3>
                    <p class="text-gray-500 text-sm line-clamp-2 mb-4">{{ article.excerpt }}</p>
                    <span class="inline-flex items-center gap-2 text-sm font-semibold" style="color: {{ theme.color.primary }};">
                        اقرأ المزيد
                        <i class="sicon-keyboard-arrow-left"></i>
                    </span>
                </div>
            </article>
            {% endfor %}
            {% endfor %}
        </div>
        
        {# Mobile Button #}
        <div class="text-center mt-8 md:hidden">
            <a href="/blog" class="inline-flex items-center gap-2 px-6 py-3 rounded-lg font-semibold" style="background-color: {{ theme.color.primary }}; color: {{ theme.color.reverse_text }};">
                عرض جميع المقالات
            </a>
        </div>
    </div>
</section>
